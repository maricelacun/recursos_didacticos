import React, { useState } from 'react';

// Main App component
const App = () => {
  // State for quiz answers and results
  const [quizAnswers, setQuizAnswers] = useState({});
  const [quizSubmitted, setQuizSubmitted] = useState(false);

  // Data for the quiz questions
  const quizQuestions = [
    {
      id: 1,
      question: "¿Cuál de las siguientes acciones es parte del mantenimiento PREVENTIVO del software?",
      options: [
        { text: "a) Formatear el disco duro para solucionar un virus.", isCorrect: false },
        { text: "b) Actualizar tu sistema operativo regularmente.", isCorrect: true },
        { text: "c) Apagar la computadora a la fuerza cuando se congela.", isCorrect: false },
        { text: "d) Descargar programas de sitios desconocidos.", isCorrect: false },
      ],
      feedbackCorrect: "¡Correcto! Mantener tu software actualizado es clave para prevenir problemas.",
      feedbackIncorrect: "¡Incorrecto! Esa es una acción correctiva, o incluso dañina. Recuerda que el mantenimiento preventivo busca evitar problemas antes de que ocurran.",
    },
    {
      id: 2,
      question: "La desfragmentación de disco es fundamental para optimizar el rendimiento de las unidades de estado sólido (SSD). (Verdadero/Falso)",
      options: [
        { text: "a) Verdadero", isCorrect: false },
        { text: "b) Falso", isCorrect: true },
      ],
      feedbackCorrect: "¡Excelente! Las SSDs no necesitan desfragmentación, de hecho, puede reducir su vida útil. ¡Bien hecho!",
      feedbackIncorrect: "¡Incorrecto! Las SSDs funcionan de manera diferente a los discos duros tradicionales y no requieren desfragmentación.",
    },
    {
      id: 3,
      question: "Si tu PC está muy lenta y se congelan los programas, ¿cuál de las siguientes podría ser una primera acción a tomar para solucionarlo?",
      options: [
        { text: "a) Comprar una computadora nueva.", isCorrect: false },
        { text: "b) Instalar más programas pesados.", isCorrect: false },
        { text: "c) Abrir el Administrador de Tareas y cerrar programas que no responden o que consumen muchos recursos.", isCorrect: true },
        { text: "d) Dejar la computadora encendida por varios días seguidos.", isCorrect: false },
      ],
      feedbackCorrect: "¡Así es! Cerrar programas que consumen muchos recursos es un excelente primer paso para mejorar la velocidad.",
      feedbackIncorrect: "¡No exactamente! Piensa en qué herramientas tienes a mano para diagnosticar y solucionar problemas de lentitud de inmediato.",
    },
  ];

  // Handle quiz answer selection
  const handleAnswerChange = (questionId, selectedOption) => {
    setQuizAnswers({
      ...quizAnswers,
      [questionId]: selectedOption,
    });
  };

  // Handle quiz submission
  const handleSubmitQuiz = () => {
    setQuizSubmitted(true);
  };

  return (
    // Main container with Inter font, light background, and rounded corners
    <div className="font-sans antialiased text-gray-800 bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen p-4 sm:p-6 lg:p-8 rounded-lg shadow-xl">
      {/* Tailwind CSS CDN for styling */}
      <script src="https://cdn.tailwindcss.com"></script>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

      {/* Header section */}
      <header className="text-center mb-10 p-6 bg-white rounded-xl shadow-md">
        <h1 className="text-4xl sm:text-5xl font-extrabold text-indigo-700 mb-4 tracking-tight">
          Mantenimiento del Software de tu PC: ¡Mantén tu Equipo a Punto! 🚀
        </h1>
        <p className="text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto">
          ¡Hola, futuros expertos en tecnología! Descubre por qué es tan importante el mantenimiento del software y cómo puedes hacerlo de forma divertida y sencilla. ¡Prepárate para aprender y poner a prueba tus conocimientos!
        </p>
      </header>

      {/* Importance section (Video) */}
      <section className="bg-gradient-to-r from-teal-100 to-cyan-100 p-6 sm:p-8 rounded-xl shadow-lg mb-10">
        <h2 className="text-3xl sm:text-4xl font-bold text-teal-800 mb-6 text-center">
          ¿Por Qué es Importante el Mantenimiento del Software? 🛠️
        </h2>
        <p className="text-lg sm:text-xl text-gray-700 mb-6 text-center max-w-4xl mx-auto">
          Imagina tu computadora como un coche de carreras. Si no le cambias el aceite, no le pones gasolina de calidad o no revisas los neumáticos, ¡seguro que no correrá bien o se detendrá en medio de la pista! Lo mismo ocurre con el software de tu PC. Un buen mantenimiento del software te ayuda a:
        </p>
        <ul className="list-disc list-inside text-lg sm:text-xl text-gray-700 mb-8 max-w-2xl mx-auto space-y-2">
          <li>Evitar que tu PC se ponga lenta.</li>
          <li>Prevenir errores y fallos inesperados.</li>
          <li>Protegerte de virus y amenazas.</li>
          <li>Aumentar la vida útil de tu equipo.</li>
        </ul>

        {/* Video placeholder */}
        <div className="relative aspect-video w-full max-w-4xl mx-auto rounded-lg overflow-hidden shadow-2xl border-4 border-teal-300">
          <iframe
            src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=0000000000000000" // Placeholder video
            title="Video sobre el mantenimiento del software"
            frameBorder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowFullScreen
            className="absolute top-0 left-0 w-full h-full"
          ></iframe>
        </div>
        <p className="text-sm text-gray-600 mt-4 text-center">
          (Aquí iría un video corto y animado explicando de forma sencilla y visual la importancia del mantenimiento del software.)
        </p>
      </section>

      {/* Preventive Maintenance Infographic */}
      <section className="bg-gradient-to-l from-orange-50 to-pink-50 p-6 sm:p-8 rounded-xl shadow-lg mb-10">
        <h2 className="text-3xl sm:text-4xl font-bold text-pink-700 mb-8 text-center">
          ¡Manos a la Obra! Mantenimiento Preventivo: ¡Mejor Prevenir que Lamentar! 🛡️
        </h2>
        <p className="text-lg sm:text-xl text-gray-700 mb-8 text-center max-w-4xl mx-auto">
          Este tipo de mantenimiento es como ir al médico para un chequeo anual. Lo haces para **evitar que los problemas ocurran**. ¡Haz clic en cada tarjeta para ver más detalles!
        </p>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {/* Infographic Card: Actualización de Software */}
          <InfographicCard
            title="Actualización de Software"
            icon="🔄"
            description="Mantén tu sistema operativo (Windows, macOS) y tus programas actualizados. Las actualizaciones traen mejoras de seguridad y nuevas funciones."
            tip="Activa las actualizaciones automáticas para no olvidarte."
            bgColor="bg-blue-100"
            hoverColor="hover:bg-blue-200"
            textColor="text-blue-800"
          />

          {/* Infographic Card: Antivirus y Antimalware */}
          <InfographicCard
            title="Antivirus y Antimalware"
            icon="🛡️"
            description="Instala un buen antivirus y escanéalo regularmente para encontrar y eliminar virus y software malicioso."
            tip="Realiza escaneos completos al menos una vez al mes."
            bgColor="bg-green-100"
            hoverColor="hover:bg-green-200"
            textColor="text-green-800"
          />

          {/* Infographic Card: Limpieza de Archivos Temporales */}
          <InfographicCard
            title="Limpieza de Archivos Temporales"
            icon="🗑️"
            description="Elimina los archivos que tu PC guarda temporalmente y que ya no necesita. ¡Ocupan espacio y la ponen lenta!"
            tip="Usa la herramienta 'Liberador de Espacio en Disco' de Windows o programas de limpieza."
            bgColor="bg-yellow-100"
            hoverColor="hover:bg-yellow-200"
            textColor="text-yellow-800"
          />

          {/* Infographic Card: Desfragmentación de Disco */}
          <InfographicCard
            title="Desfragmentación de Disco (HDD)"
            icon="🗄️"
            description="Organiza los archivos en tu disco duro para que tu PC los encuentre más rápido. (No es necesario para SSDs)."
            tip="Windows lo hace automáticamente, pero puedes verificar su estado."
            bgColor="bg-purple-100"
            hoverColor="hover:bg-purple-200"
            textColor="text-purple-800"
          />

          {/* Infographic Card: Gestión de Programas de Inicio */}
          <InfographicCard
            title="Gestión de Programas de Inicio"
            icon="⚡"
            description="Algunos programas se inician automáticamente con tu PC. Desactiva los que no uses para que arranque más rápido."
            tip="Accede al Administrador de Tareas (Ctrl+Shift+Esc) y ve a la pestaña 'Inicio'."
            bgColor="bg-red-100"
            hoverColor="hover:bg-red-200"
            textColor="text-red-800"
          />

          {/* Infographic Card: Copias de Seguridad */}
          <InfographicCard
            title="Copias de Seguridad (Backups)"
            icon="☁️"
            description="Guarda copias de tus archivos importantes en otro lugar (disco externo, nube) por si algo le pasa a tu PC."
            tip="Haz copias de seguridad de forma regular, ¡mejor prevenir que lamentar!"
            bgColor="bg-indigo-100"
            hoverColor="hover:bg-indigo-200"
            textColor="text-indigo-800"
          />
        </div>
      </section>

      {/* Corrective Maintenance Gallery */}
      <section className="bg-gradient-to-r from-emerald-50 to-lime-50 p-6 sm:p-8 rounded-xl shadow-lg mb-10">
        <h2 className="text-3xl sm:text-4xl font-bold text-lime-700 mb-8 text-center">
          Mantenimiento Correctivo: ¡A Solucionar Problemas! 🩹
        </h2>
        <p className="text-lg sm:text-xl text-gray-700 mb-8 text-center max-w-4xl mx-auto">
          Este mantenimiento es como ir al médico cuando ya te sientes mal. Lo haces **cuando ya ha surgido un problema** y necesitas solucionarlo. ¡Haz clic para ver la solución!
        </p>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {/* Problem Card: Pantalla Azul */}
          <ProblemCard
            title="¡La Pantalla Azul de la Muerte!"
            image="https://placehold.co/400x250/CCEEFF/2A363B?text=Pantalla+Azul"
            description="Indica un error grave del sistema. A menudo se soluciona reiniciando. Si persiste, puede ser un problema de hardware o drivers. Actualiza tus drivers."
            bgColor="bg-cyan-100"
            hoverColor="hover:bg-cyan-200"
            textColor="text-cyan-800"
          />

          {/* Problem Card: Virus al Ataque */}
          <ProblemCard
            title="¡Virus al Ataque!"
            image="https://placehold.co/400x250/FFDDCC/3B2A36?text=Virus+PC"
            description="Tu PC está infectada. Ejecuta un escaneo completo con tu antivirus y elimina las amenazas. Si es muy grave, considera formatear y reinstalar el sistema."
            bgColor="bg-orange-100"
            hoverColor="hover:bg-orange-200"
            textColor="text-orange-800"
          />

          {/* Problem Card: Programa Congelado */}
          <ProblemCard
            title="Programa Congelado"
            image="https://placehold.co/400x250/DDEEFF/362A3B?text=Programa+Congelado"
            description="El programa no responde. Presiona Ctrl+Shift+Esc para abrir el Administrador de Tareas, selecciona el programa y haz clic en 'Finalizar tarea'."
            bgColor="bg-fuchsia-100"
            hoverColor="hover:bg-fuchsia-200"
            textColor="text-fuchsia-800"
          />

          {/* Problem Card: PC Extremadamente Lenta */}
          <ProblemCard
            title="PC Extremadamente Lenta"
            image="https://placehold.co/400x250/CCDDEE/363B2A?text=PC+Lenta"
            description="Puede ser por muchos programas abiertos, poco espacio en disco o virus. Cierra programas, limpia archivos temporales y escanea tu PC."
            bgColor="bg-lime-100"
            hoverColor="hover:bg-lime-200"
            textColor="text-lime-800"
          />

          {/* Problem Card: Disco Lleno */}
          <ProblemCard
            title="¡Disco Lleno!"
            image="https://placehold.co/400x250/FFEEDD/3B2A36?text=Disco+Lleno"
            description="Elimina archivos grandes que ya no necesites, vacía la papelera de reciclaje, desinstala programas no usados y usa el liberador de espacio."
            bgColor="bg-amber-100"
            hoverColor="hover:bg-amber-200"
            textColor="text-amber-800"
          />
        </div>
      </section>

      {/* Quiz Section */}
      <section className="bg-gradient-to-r from-purple-100 to-pink-100 p-6 sm:p-8 rounded-xl shadow-lg mb-10">
        <h2 className="text-3xl sm:text-4xl font-bold text-purple-700 mb-8 text-center">
          ¡Pon a Prueba Tus Conocimientos! 🧠
        </h2>
        <p className="text-lg sm:text-xl text-gray-700 mb-8 text-center max-w-4xl mx-auto">
          ¡Llegó el momento de ver cuánto has aprendido! Responde a las siguientes preguntas. ¡Mucha suerte!
        </p>

        <div className="space-y-8">
          {quizQuestions.map((q) => (
            <div key={q.id} className="bg-white p-6 rounded-xl shadow-md border-b-4 border-purple-300">
              <p className="text-xl font-semibold mb-4 text-gray-800">{q.question}</p>
              <div className="space-y-3">
                {q.options.map((option, index) => (
                  <label
                    key={index}
                    className={`flex items-center p-3 rounded-lg cursor-pointer transition duration-300 ease-in-out
                      ${quizSubmitted && option.isCorrect ? 'bg-green-100 border-green-400' : ''}
                      ${quizSubmitted && !option.isCorrect && quizAnswers[q.id] === option.text ? 'bg-red-100 border-red-400' : ''}
                      ${!quizSubmitted && quizAnswers[q.id] === option.text ? 'bg-blue-50 border-blue-200' : 'bg-gray-50 hover:bg-gray-100 border-gray-200'}
                      border-2`}
                  >
                    <input
                      type="radio"
                      name={`question-${q.id}`}
                      value={option.text}
                      checked={quizAnswers[q.id] === option.text}
                      onChange={() => handleAnswerChange(q.id, option.text)}
                      className="form-radio h-5 w-5 text-purple-600 focus:ring-purple-500 mr-3"
                      disabled={quizSubmitted}
                    />
                    <span className="text-lg text-gray-700">{option.text}</span>
                  </label>
                ))}
              </div>
              {quizSubmitted && quizAnswers[q.id] && (
                <p
                  className={`mt-4 p-3 rounded-lg font-medium text-lg
                    ${q.options.find(opt => opt.text === quizAnswers[q.id])?.isCorrect ? 'bg-green-50 text-green-700 border border-green-200' : 'bg-red-50 text-red-700 border border-red-200'}`}
                >
                  {q.options.find(opt => opt.text === quizAnswers[q.id])?.isCorrect ? q.feedbackCorrect : q.feedbackIncorrect}
                </p>
              )}
            </div>
          ))}
        </div>

        <div className="text-center mt-8">
          <button
            onClick={handleSubmitQuiz}
            disabled={quizSubmitted || Object.keys(quizAnswers).length < quizQuestions.length}
            className={`px-8 py-4 rounded-full font-bold text-white text-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105
              ${quizSubmitted || Object.keys(quizAnswers).length < quizQuestions.length
                ? 'bg-gray-400 cursor-not-allowed'
                : 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600'
              }`}
          >
            {quizSubmitted ? "¡Respuestas Enviadas!" : "Comprobar Respuestas"}
          </button>
        </div>
      </section>

      {/* Resources and Footer */}
      <footer className="bg-gradient-to-br from-blue-200 to-indigo-200 p-6 sm:p-8 rounded-xl shadow-md text-center">
        <h2 className="text-3xl sm:text-4xl font-bold text-blue-800 mb-6">
          Recursos Adicionales y Herramientas Útiles 🔗
        </h2>
        <ul className="list-none space-y-4 mb-8 text-lg sm:text-xl text-gray-700 max-w-2xl mx-auto">
          <li>
            <a href="https://www.ejemplo.com/articulo-10-habitos" target="_blank" rel="noopener noreferrer" className="text-blue-700 hover:text-blue-900 underline font-medium">
              Artículo: "10 Hábitos para una PC Saludable"
            </a>
          </li>
          <li>
            <a href="https://support.microsoft.com/es-es/windows/liberador-de-espacio-en-disco-en-windows-10-8ad4918e-4d45-207d-3088-bf193c56c21a" target="_blank" rel="noopener noreferrer" className="text-blue-700 hover:text-blue-900 underline font-medium">
              Herramienta: "Liberador de Espacio en Disco de Windows"
            </a>
          </li>
          <li>
            <a href="https://www.ccleaner.com/es-es" target="_blank" rel="noopener noreferrer" className="text-blue-700 hover:text-blue-900 underline font-medium">
              Herramienta: "CCleaner"
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank" rel="noopener noreferrer" className="text-blue-700 hover:text-blue-900 underline font-medium">
              Video: "¿Cómo Actualizar Windows Paso a Paso?"
            </a>
          </li>
        </ul>

        <p className="text-lg sm:text-xl text-gray-700 mb-4">
          ¡Esperamos que esta página te haya sido muy útil para entender la importancia del mantenimiento del software y cómo puedes hacerlo. ¡Recuerda que con un poco de esfuerzo y conocimiento, tu PC funcionará siempre de maravilla! ✨
        </p>
        <p className="text-md text-gray-600">
          ¿Te gustaría aprender sobre el mantenimiento del hardware de tu PC? ¡Déjanos un comentario o envíanos un mensaje!
        </p>
      </footer>
    </div>
  );
};

// Component for Infographic Cards
const InfographicCard = ({ title, icon, description, tip, bgColor, hoverColor, textColor }) => {
  const [showTip, setShowTip] = useState(false);

  return (
    <div
      className={`relative ${bgColor} p-6 rounded-xl shadow-md transform transition duration-300 ease-in-out hover:scale-105 cursor-pointer flex flex-col items-center text-center border-b-4 border-solid border-transparent ${textColor === 'text-blue-800' ? 'border-blue-400' : textColor === 'text-green-800' ? 'border-green-400' : textColor === 'text-yellow-800' ? 'border-yellow-400' : textColor === 'text-purple-800' ? 'border-purple-400' : textColor === 'text-red-800' ? 'border-red-400' : 'border-indigo-400'}`}
      onMouseEnter={() => setShowTip(true)}
      onMouseLeave={() => setShowTip(false)}
      onClick={() => setShowTip(!showTip)} // Toggle on click for mobile
    >
      <div className={`text-5xl mb-4 ${textColor}`}>{icon}</div>
      <h3 className={`text-2xl font-bold mb-3 ${textColor}`}>{title}</h3>
      <p className="text-lg text-gray-700">{description}</p>
      {showTip && (
        <div className={`absolute top-0 left-0 w-full h-full ${bgColor} rounded-xl flex items-center justify-center p-4 transition-opacity duration-300 opacity-100`}>
          <p className={`text-lg font-semibold ${textColor}`}>{tip}</p>
        </div>
      )}
    </div>
  );
};

// Component for Problem Cards in Corrective Maintenance
const ProblemCard = ({ title, image, description, bgColor, hoverColor, textColor }) => {
  const [showSolution, setShowSolution] = useState(false);

  return (
    <div
      className={`relative ${bgColor} p-4 rounded-xl shadow-md transform transition duration-300 ease-in-out hover:scale-105 cursor-pointer flex flex-col items-center text-center border-b-4 border-solid border-transparent ${textColor === 'text-cyan-800' ? 'border-cyan-400' : textColor === 'text-orange-800' ? 'border-orange-400' : textColor === 'text-fuchsia-800' ? 'border-fuchsia-400' : textColor === 'text-lime-800' ? 'border-lime-400' : 'border-amber-400'}`}
      onClick={() => setShowSolution(!showSolution)}
    >
      <img
        src={image}
        alt={title}
        className="w-full h-40 object-cover rounded-lg mb-4 shadow-sm"
        onError={(e) => { e.target.onerror = null; e.target.src="https://placehold.co/400x250/CCCCCC/888888?text=Imagen+No+Disponible"; }} // Fallback image
      />
      <h3 className={`text-2xl font-bold mb-3 ${textColor}`}>{title}</h3>
      <p className="text-lg text-gray-700">{description}</p>
      {showSolution && (
        <div className={`absolute top-0 left-0 w-full h-full ${bgColor} rounded-xl flex items-center justify-center p-4 transition-opacity duration-300 opacity-100`}>
          <p className={`text-lg font-semibold ${textColor}`}>{description}</p>
        </div>
      )}
    </div>
  );
};

export default App;
